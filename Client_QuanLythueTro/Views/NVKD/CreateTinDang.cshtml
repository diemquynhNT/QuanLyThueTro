@model Client_QuanLythueTro.Models.TinDang

@{
    ViewData["Title"] = "CreateTinDang";
    Layout = "~/Views/NVKD/LayoutNVKD/LayoutNVKD.cshtml";
    ViewBag.post = "active";
    ViewBag.Name = "Đăng tin";
}
<div class="container">
    <div class="tile" id="printMe">
        <div class=" row">
            <div class="col-sm-8">
                <form asp-action="CreateTinDang" enctype="multipart/form-data">
                    @Html.AntiForgeryToken()
                    @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                    @Html.HiddenFor(model => model.idTinDang)
                    @Html.HiddenFor(model => model.ngayBatDau)
                    @Html.HiddenFor(model => model.ngayKetThuc)
                    @Html.HiddenFor(model => model.ngayTaoTin)
                    @Html.HiddenFor(model => model.idDichVu)
                    @Html.HiddenFor(model => model.trangThaiTinDang)
                    <h5>Địa chỉ cho thuê</h5>
                 <div class="row" style="padding:10px">
                    <div class="form-group col-sm-12">
                        <b>Khu vực</b>
                            <select class="form-control" asp-for="idKhuVuc" id="idKhuVuc" required>
                            <option selected="selected" disabled>------Chọn-------</option>
                        </select>
                        <span asp-validation-for="idKhuVuc" class="text-danger"></span>
                    </div>
                    <div class="form-group col-sm-12">
                        <b>Địa chỉ cụ thể</b>
                        <input asp-for="diaChi" class="form-control" required />
                        <span asp-validation-for="diaChi" class="text-danger"></span>
                    </div>
                    <hr />
                    <h5>Thông tin cụ thể</h5>
                    <hr />
                    <div class="form-group col-sm-12">
                        <b>Loại tin</b>
                        <select class="form-control" asp-for="loaiTin" required>
                            <option selected="selected">Cho thuê</option>
                            <option selected="selected">Tìm người ở ghép</option>

                        </select>
                        <span asp-validation-for="loaiTin" class="text-danger"></span>
                    </div>
                    <div class="form-group col-sm-12">
                        <b>Đối tượng cho thuê</b>
                        <input asp-for="doiTuongChoThue" class="form-control" required />
                        <span asp-validation-for="doiTuongChoThue" class="text-danger"></span>
                    </div>
                    <div class="form-group col-sm-12">
                        <b>Tiêu đề</b>
                        <input asp-for="tieuDe" class="form-control" required />
                        <span asp-validation-for="tieuDe" class="text-danger"></span>
                    </div>
                    <div class="form-group col-sm-12">
                        <b>Mô tả</b>
                        <textarea asp-for="moTa" class="form-control" rows="9" cols="70"></textarea>
                        <span asp-validation-for="moTa" class="text-danger"></span>
                    </div>
                    <div class="form-group col-sm-6">
                        <b>Số lượng phòng</b>
                            <input asp-for="soLuongPhong" class="form-control" required min="1" />
                        <span asp-validation-for="soLuongPhong" class="text-danger"></span>
                    </div>
                    <div class="form-group col-sm-6">
                        <b>Diện tích</b>
                        <input asp-for="dienTich" class="form-control" required type="number" min="1" />
                        <span asp-validation-for="dienTich" class="text-danger"></span>
                    </div>

                    <div class="form-group col-sm-6">
                        <b>Giá phòng (/tháng)</b>
                            <input asp-for="giaPhong" class="form-control" required type="number" min="1" />
                        <span asp-validation-for="giaPhong" class="text-danger"></span>
                    </div>
                    <div class="form-group col-sm-6">
                        <b>Tiền điện</b>
                            <input asp-for="tienDien" class="form-control" required min="0" type="number" min="1" />
                        <span asp-validation-for="tienDien" class="text-danger"></span>
                    </div>
                    <div class="form-group col-sm-6">
                        <b>Tiền nước</b>
                            <input asp-for="tienNuoc" class="form-control" required min="0" type="number" min="1" />
                        <span asp-validation-for="tienNuoc" class="text-danger"></span>
                    </div>
                    <div class="form-group col-sm-6">
                        <b>Tiền dịch vụ</b>
                            <input asp-for="tienDichVu" class="form-control" required min="0" type="number" min="1" />
                        <span asp-validation-for="tienDichVu" class="text-danger"></span>
                    </div>
                    <hr />
                    <h5>Thông tin liên hệ</h5>
                    <hr />
                    <div class="form-group col-sm-12">
                        <b>Người liên hệ</b>
                        <input asp-for="nguoiLienHe" class="form-control" required />
                        <span asp-validation-for="nguoiLienHe" class="text-danger"></span>
                    </div>
                    <div class="form-group col-sm-12">
                        <b>SĐT liên hệ</b>
                        <input asp-for="sdtNguoiLienHe" class="form-control" required min="10" max="10" />
                        <span asp-validation-for="sdtNguoiLienHe" class="text-danger"></span>
                    </div>
                    <div class="form-group">
                        <input type="submit" value="Thêm" class="btn btn-success btn-sm" />
                    </div>
                </div>
             </form>
            </div>
            <div class="col-sm-4" style="background-color:blue">
                <div class="form-group col-sm-6">
                    <b>SĐT liên hệ</b>
                    <input  class="form-control" required />
                    <span class="text-danger"></span>
                </div>
            </div>
        </div>
    </div>
    <div>
        <a asp-action="QuanLyTinDang" class="btn btn-warning btn-sm">Back to List</a>
    </div>
</div>


<script>
    function getListKhuVuc() {
        var url = 'https://localhost:7034/api/KhuVucs';
        console.log(url)
        fetch(url)
            .then(response => response.json())
            .then(data => {
                var selectElement = document.getElementById('idKhuVuc');
                console.log(data)
                for (var i = 0; i < data.length; i++) {
                    var option = document.createElement('option');
                    option.value = data[i].idKhuVuc; // Giá trị của option là idKhuVuc
                    option.text = data[i].tenKhuVuc; // Văn bản của option là tên khu vực
                    selectElement.add(option);
                }
            });
    }
    getListKhuVuc();

</script>



